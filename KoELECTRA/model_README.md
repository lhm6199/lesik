# 모델 설명

## 모델 코드 사용 방법

- make_recipe_dataset: 레이블링된 데이터를 학습 데이터로 변환한다.
- predict_or_tag: 레시피 데이터를 1차 태깅하거나, 어떠한 문장에 대한 모델의 예측 결과를 확인한다.
- train_per_epoch: 처음으로 학습 모델을 만든다.
- fine_tuning: 만들어진 모델에 추가적으로 학습한다.
- test_model: 모델의 성능을 평가한다.

→ 자세한 사항은 코드를 따라가면서 실행할 수 있도록 코드에 설명해두었다.

## 레이블링 방법

1. 레이블링 태그: CV_INGREDIENT(주재료), CV_SEASONING(첨가물), CV_STATE(상태 정보), TI_DURATION(시간), QT_TEMPERATURE(온도), QT_VOLUME(용량)
2. 태그 설명
    - CV_INGREDIENT(주재료): 메인 재료로 사용될 수 있는 재료 (돼지고기, 김치, 새우 등)
    - CV_SEASONING(첨가물): 메인 재료로 사용될 수 없는 재료 (새우젓, 소금, 간장, 참치 액젓 등)
    - CV_STATE(상태 정보): 주로 -ㄴ/는으로 끝나는 재료의 가공 상태를 나타내는 유의미한 정보 (**굵은** 소금, **짠기를 뺀** 오이지, **기름을 뺀** 참치, **잘게 바른** 닭 등)
3. 레이블링 방법: 개체명으로 인식되어야 할 단어를 <>로 묶는다. 단어 오른쪽에 :태그를 삽입하여 :를 기준으로 왼쪽에는 개체명, 오른쪽에는 태그가 오도록 한다.
    - 원문: 감자를 깍뚝 썬다.
    - 태깅: <감자:CV_INGREDIENT>를 깍뚝 썬다.
4. 레이블링 규칙
    1. 양념 재료는 coreferencing으로 가져오므로, 태깅하지 않는다.
    2. 조건문의 재료는 태깅하지 않는다.
    3. ‘찬물에 담가’, ‘찬물에 씻어’에의 찬물과 같이 인식할 필요가 없는 대상격은 태깅하지 않는다.

## 학습 모델
1. 데이터셋 구성: 국어국립원 모두의 말뭉치(신문, 독백 600만 어절) + 우리의 식탁(482개) + 만개의 레시피(2171개)
2. 데이터셋 비율: Train:Test = 5393:1348 (문장)
3. 성능  
                    precision  recall  f1-score   

 CV_INGREDIENT    0.91   0.96   0.93      
 CV_SEASONING    0.89   0.93   0.91      
    CV_STATE    0.87   0.94   0.90      
QT_TEMPERATURE    0.96   0.99   0.97       
   QT_VOLUME    0.91   0.94   0.93       
  TI_DURATION    0.97   0.98   0.98       

Test Loss: 0.11209947447507428  
Test Accuracy: 0.972023737294939
